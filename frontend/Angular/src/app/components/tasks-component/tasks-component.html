<div class="app-container">
  <app-navbar></app-navbar>

  <div class="main-content">
    <div class="header">
      <div class="header-left">
        <h1 class="page-title">Tasks</h1>
      </div>
      <div class="header-right">
        <button class="header-btn">â•</button>
        <div class="user-menu">
          <span>{{ currentUser }}</span>
          <span class="dropdown">â–¼</span>
        </div>
      </div>
    </div>

    <section class="tasks-section">
      <h2>My Tasks</h2>

      <div *ngIf="tasks.length > 0; else empty">
        <div class="tasks-container">
          <div *ngFor="let task of tasks" class="task-card">
            <div class="task-card-header">
              <h3>{{ task.title }}</h3>
              <div class="task-actions">
                <!--><button class="action-btn edit" (click)="editTask(task.id)" title="Edit">âœï¸</button>-->
                <button class="action-btn delete" (click)="deleteTask(task.id)" title="Delete">ğŸ—‘ï¸</button>
              </div>
            </div>

            <p class="task-description">{{ task.description }}</p>

            <div class="task-priority-section">
              <span class="priority-badge" [ngClass]="'priority-' + task.priority.toLowerCase()">
                {{ task.priority }}
              </span>
            </div>

            <div class="task-meta">
              <span class="task-time">{{ '' }}</span>
            </div>

            <div class="task-details">
              <div class="detail-item">
                <span class="detail-label">Date:</span>
                <span>{{ task.startdate }}</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Time Left:</span>
                <span>{{ task.due_date }}</span>
              </div>
            </div>

            <div class="task-status-buttons">
              <button class="status-btn in-progress" (click)="markInProgress(task.id)">ğŸ“‹ In Progress</button>
              <button class="status-btn done" (click)="markDone(task.id)">âœ… Done</button>
            </div>
          </div>
        </div>
      </div>

      <ng-template #empty>
        <div class="empty-state">
          <span class="empty-icon">ğŸ“‹</span>
          <p>No tasks yet. Create one to get started!</p>
        </div>
      </ng-template>
    </section>
  </div>
</div>